<?xml version="1.0"?>
<window type="window" id="14000">
    <defaultcontrol always="true">100</defaultcontrol>
    <allowoverlay>no</allowoverlay>
   <onload lang="python">
<![CDATA[
import menu

mc.GetActiveWindow().GetControl(120).SetVisible(False)
categories = menu.get_categories()
if categories:
   mc.GetActiveWindow().GetList(100).SetItems(categories)
]]>
   </onload>
    <controls>
        <control type="group">
            <control type="image">
                <width>1280</width>
                <height>720</height>
                <texture>background.png</texture>
            </control>
            <control type="list" id="100">
               <posx>50</posx>
               <width>1280</width>
               <height>300</height>
               <orientation>horizontal</orientation>
               <itemlayout width="150">
                  <control type="label">
                     <width>720</width>
                     <height>150</height>
                     <align>center</align>
                     <aligny>center</aligny>
                     <label>$INFO[ListItem.Label]</label>
                     <textcolor>white</textcolor>
                  </control>
               </itemlayout>
               <focusedlayout width="150">
                  <control type="label">
                     <width>720</width>
                     <height>100</height>
                     <align>center</align>
                     <aligny>center</aligny>
                     <label>$INFO[ListItem.Label]</label>
                     <textcolor>white</textcolor>
                  </control>
               </focusedlayout>
                  <content type="action">
                     <onclick lang="python">
<![CDATA[
cat_id = mc.GetFocusedItem(14000, 100).GetProperty('id')
videos = menu.get_videos(cat_id)
if videos:
   mc.GetActiveWindow().GetList(120).SetItems(videos)

mc.GetActiveWindow().PushState()
mc.GetActiveWindow().GetControl(120).SetVisible(True)
mc.GetActiveWindow().GetControl(120).SetFocus()
]]>
                     </onclick>
                  </content>
            </control>





            <control type="list" id="120">
               <visible>false</visible>
               <posy>100</posy>
               <posx>50</posx>
               <animation type="Conditional" condition="Window.IsVisible(DialogProgress.xml)">
                  <effect type="fade" start="100" end="20" time="200"/>
               </animation>
               <width>500</width>
               <height>620</height>
               <orientation>vertical</orientation>
               <itemlayout height="50">
                  <control type="label">
                     <posx>0</posx>
                     <width>500</width>
                     <height>50</height>
                     <aligny>center</aligny>
                     <label>$INFO[ListItem.Label]</label>
                     <textcolor>white</textcolor>
                  </control>
               </itemlayout>
               <focusedlayout height="50">
                  <control type="label">
                     <width>500</width>
                     <height>50</height>
                     <aligny>center</aligny>
                     <label>$INFO[ListItem.Label]</label>
                     <textcolor>red</textcolor>
                  </control>
               </focusedlayout>
            </control>





        </control>
    </controls>
</window>